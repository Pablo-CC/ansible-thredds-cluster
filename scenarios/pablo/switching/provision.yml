- name: Common provision for all hosts
  hosts: all
  become: True
  tasks:
    - yum:
        name: "{{ item }}"
        state: present
      with_items:
        - tcpdump

- name: Provision for DHCP server
  hosts: DHCP
  become: True
  tasks:
    - yum:
        name: "{{ item }"
        state: present
      with_items:
        - dhcp

- name: Provision for load balancer
  hosts: load-balancer
  become: True
  tasks:
    - yum:
        name: "{{ item }}"
        state: present
      with_items:
        - ipvsadm

- name: Provision for servers
  hosts: servers
  become: True
  tasks:
    - yum:
        name: "{{ item }}"
        state: present
      with_items:
        - net-tools
        - unzip
        - iptables
