---
collections:
  - path: collection1 # Id of the collection and logic path in THREDDS
    top: True # Add a reference in the tds gateway to the collection
    references: ['collection2'] # Have I implemented this?
    mode: '2775'
    _owner: zequi
    _group: zequi
    catalogs:
      src: data/collection1
      _owner: zequi

  - path: collection2
    top: True
    catalogs:
      src: data/collection2

datasets:
  - src: data/datasets
    dest: '' # If empty, path is public/ in THREDDS
    _owner: zequi
    #  - src: /home/zequi/tests/ncml-dataset
    #    dest: ''

tds_instances:
  - name: instance1
    shutdown: 18000
    tds_debug:
      jpda_address: "{{ ansible_eth1.ipv4.address }}:8000"
    host: "{{ ansible_eth1.ipv4.address }}"
    connectors:
      - type: ajp
        port: 18009
        proxy: proxy # ansible inventory host # Mandatory for delegate_to in tds
      - type: http
        port: 8080
        # proxy: proxy
    replicas:
      - name: collection1
      - name: collection2

