- name: Deploy tds
  hosts: hiresgw-tds4gws
  vars_files: 
    - hiresgw-secret.yml
  vars:
    # virtualenv_name: TDS4GWS
    # tomcat_install_from_source: true
    # tomcat_system: false
    tomcat_instances:
      - name: tds4gws_1800
        base_port: 1800
        ip_address: 192.168.33.13
        ajp: 
          port: 18009
          proxyPort: 8008
        gws_instance: 
          - name: "{{ gws.0.name }}"

      - name: tds4gws_2800
        base_port: 2800
        ip_address: 192.168.33.13
        ajp: 
          port: 28009
          proxyPort: 8008
        gws_instance: 
          - name: "{{ gws.0.name }}"
    gws:
      - name: hiresgw
        path: hiresgw/test
        location: "/group_workspaces/jasmin/hiresgw"
  roles:
    - role: tds