---
# tasks file for roles/common

# Create home directory in remote host
- name: Add $HOME enviroment variable
  set_fact: 
    env_var: lookup('env', 'HOME')

- name: Create {{ home }}
  file:
    dest: "{{ home }}"
    state: directory

- name: Insert home variable in .bashrc file
  lineinfile:
    dest: "~/.bashrc"
    line: "export {{ work_home_name }}={{ home }}"

# Create downloads directy in local host to download all necessary packages for remote host
- name: Create folder local host
  local_action: file
  args:
    dest: "{{ local_download }}" 
    state: directory

# Create virtual enviroment in remote host
- include: virtualenv.yml

# Install supervisord to control applications in remote host
- include: supervisord.yml