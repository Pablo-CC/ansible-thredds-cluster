global
  log /dev/log	local0
  log /dev/log	local1 notice
  user {{ haproxy_user }}
  group {{ haproxy_group }}
  daemon


defaults
  log	global
  mode	http
  option	httplog
  option httpchk
  option	dontlognull
  errorfile 400 {{ haproxy_directory }}/{{ haproxy_version }}/errors/400.http
  errorfile 403 {{ haproxy_directory }}/{{ haproxy_version }}/errors/403.http
  errorfile 408 {{ haproxy_directory }}/{{ haproxy_version }}/errors/408.http
  errorfile 500 {{ haproxy_directory }}/{{ haproxy_version }}/errors/500.http
  errorfile 502 {{ haproxy_directory }}/{{ haproxy_version }}/errors/502.http
  errorfile 503 {{ haproxy_directory }}/{{ haproxy_version }}/errors/503.http
  errorfile 504 {{ haproxy_directory }}/{{ haproxy_version }}/errors/504.http
  balance {{ haproxy_balance_mode }}

frontend {{ default_frontend }}
	bind {{ haproxy_bind_address }}:{{ haproxy_bind_port }}
	mode {{ haproxy_mode }}
  option forwardfor


