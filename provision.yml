- name: Provision
  hosts: all
  become: True
  vars:
    debug: False
  tasks:
    - name: Required packages
      package:
        name: "{{ item }}"
        state: present
      with_items: [openssh-server, sudo, python, python-passlib, rsync, unzip]

    - name: Debug packages
      package:
        name: "{{ item }}"
        state: present
      with_items: [vim telnet net-tools]
      when: "{{ debug }}"
